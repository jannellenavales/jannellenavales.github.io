{
  "hash": "613a1d78ef9adfd61c6d6ede892e7b06",
  "result": {
    "markdown": "---\ntitle: \"Assignment 5\"\nauthor: \"Jannelle Navales\"\ndate: \"2023-10-11\"\ncategories: [r graphics, ggplot2, exporting]\n---\n\n\n**Plotting Without Packages**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(Seatbelts)\nseatbelt <- data.frame (Year=floor(time(Seatbelts)) ,\nMonth=factor(cycle(Seatbelts) ,\nlabels=month.abb) , Seatbelts)\n# floor() returns largest integer smaller or equal\n# time looks for execution time? establishes time series\n# cycle just repeats it?\n# month.abb means three letter abbreviation for English months\nstr(seatbelt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t192 obs. of  10 variables:\n $ Year         : Time-Series  from 1969 to 1985: 1969 1969 1969 1969 1969 ...\n $ Month        : Factor w/ 12 levels \"Jan\",\"Feb\",\"Mar\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ DriversKilled: num  107 97 102 87 119 106 110 106 107 134 ...\n $ drivers      : num  1687 1508 1507 1385 1632 ...\n $ front        : num  867 825 806 814 991 ...\n $ rear         : num  269 265 319 407 454 427 522 536 405 437 ...\n $ kms          : num  9059 7685 9963 10955 11823 ...\n $ PetrolPrice  : num  0.103 0.102 0.102 0.101 0.101 ...\n $ VanKilled    : num  12 6 12 8 10 13 11 6 10 16 ...\n $ law          : num  0 0 0 0 0 0 0 0 0 0 ...\n```\n:::\n\n```{.r .cell-code}\n#factors -> categorical variables - fixed, known set - think month - correlated number\nhead(seatbelt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Year Month DriversKilled drivers front rear   kms PetrolPrice VanKilled law\n1 1969   Jan           107    1687   867  269  9059   0.1029718        12   0\n2 1969   Feb            97    1508   825  265  7685   0.1023630         6   0\n3 1969   Mar           102    1507   806  319  9963   0.1020625        12   0\n4 1969   Apr            87    1385   814  407 10955   0.1008733         8   0\n5 1969   May           119    1632   991  454 11823   0.1010197        10   0\n6 1969   Jun           106    1511   945  427 12391   0.1005812        13   0\n```\n:::\n\n```{.r .cell-code}\n#Create a histogram\n# Random data\nY <- rnorm(50)\n# Make sure no Y exceed [-3.5, 3.5]\nY[Y < -3.5 | Y > 3.5] <- NA # Selection/set range\nx <- seq(-3.5, 3.5, .1)\ndn <- dnorm(x)\npar(mar=c(4.5, 4.1, 3.1, 0))\nhist(Y, breaks=seq(-3.5, 3.5), ylim=c(0, 0.5), \n     col=\"gray80\", freq=FALSE)\nlines(x, dnorm(x), lwd=2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n\nY <- seatbelt$PetrolPrice\ndn <- dnorm(x)\nhist(Y) #simple\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(Y,col=\"steelblue\")\nlines(density(seatbelt$PetrolPrice),lwd =2, col = 'black')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#Create a Scatterplot\nx <-seatbelt$front\ny <-seatbelt$rear\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-4.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\n#HorizontalBarChart\nseatbelt$decade <- 10 * (seatbelt$Year %/% 10)\nfatalitiesbydecade <- table(seatbelt$decade)\nbarplot(fatalitiesbydecade, \n        main = \"Deaths by Decade\",\n        xlab = \"Decade\",\n        ylab = \"Number of Deaths\",\n        col = \"darkolivegreen4\",\n        horiz=TRUE)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-5.png){width=672}\n:::\n\n```{.r .cell-code}\n#VerticalBarChart\n\ndeaths_by_year <- tapply(seatbelt$DriversKilled, seatbelt$Year, sum)\n\nbarplot(deaths_by_year,\n        main = \"Total Deaths by Year\",\n        xlab = \"Year\",\n        ylab = \"Total Deaths\",\n        col = \"darkolivegreen4\",\n        names.arg = unique(seatbelt$Year),\n        ylim = c(0, max(deaths_by_year) + 20)) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-6.png){width=672}\n:::\n\n```{.r .cell-code}\n#BoxPlot\nboxplot(seatbelt$DriversKilled,\n        main = \"Boxplot of Drivers Killed\",\n        ylab = \"Deaths\",\n        col = \"darkorange3\",\n        border = \"black\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-7.png){width=672}\n:::\n\n```{.r .cell-code}\n#PieChart - mtcars \n#note to self - take note of which datsets are appropriate for different forms of graphs in the future\n\ndata(mtcars)\n\n# Create a pie chart showing the distribution of cylinder counts\ndata(mtcars)\nView(mtcars)\ncylinder_counts <- table(mtcars$cyl)\npar(mar=c(0, 2, 1, 2), xpd=FALSE, cex=0.5)\npie(cylinder_counts, \n    labels = names(cylinder_counts), \n    main = \"How Many Cylinders?\", col = gray(seq(0.3,1.0,length=6)))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-8.png){width=672}\n:::\n:::\n\n\n**Plotting With GGPlot**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ndata(Seatbelts)\nseatbelt <- data.frame (Year=floor(time(Seatbelts)) ,\nMonth=factor(cycle(Seatbelts) ,\nlabels=month.abb) , Seatbelts)\n# floor() returns largest integer smaller or equal\n# time looks for execution time? establishes time series\n# cycle just repeats it?\n# month.abb means three letter abbreviation for English months\nView(seatbelt)\nstr(seatbelt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t192 obs. of  10 variables:\n $ Year         : Time-Series  from 1969 to 1985: 1969 1969 1969 1969 1969 ...\n $ Month        : Factor w/ 12 levels \"Jan\",\"Feb\",\"Mar\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ DriversKilled: num  107 97 102 87 119 106 110 106 107 134 ...\n $ drivers      : num  1687 1508 1507 1385 1632 ...\n $ front        : num  867 825 806 814 991 ...\n $ rear         : num  269 265 319 407 454 427 522 536 405 437 ...\n $ kms          : num  9059 7685 9963 10955 11823 ...\n $ PetrolPrice  : num  0.103 0.102 0.102 0.101 0.101 ...\n $ VanKilled    : num  12 6 12 8 10 13 11 6 10 16 ...\n $ law          : num  0 0 0 0 0 0 0 0 0 0 ...\n```\n:::\n\n```{.r .cell-code}\n#factors -> categorical variables - fixed, known set - think month - correlated number\nhead(seatbelt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Year Month DriversKilled drivers front rear   kms PetrolPrice VanKilled law\n1 1969   Jan           107    1687   867  269  9059   0.1029718        12   0\n2 1969   Feb            97    1508   825  265  7685   0.1023630         6   0\n3 1969   Mar           102    1507   806  319  9963   0.1020625        12   0\n4 1969   Apr            87    1385   814  407 10955   0.1008733         8   0\n5 1969   May           119    1632   991  454 11823   0.1010197        10   0\n6 1969   Jun           106    1511   945  427 12391   0.1005812        13   0\n```\n:::\n\n```{.r .cell-code}\n#Create a histogram - original\n# Y <- seatbelt$PetrolPrice\n# dn <- dnorm(x)\n# hist(Y) #simple\n# hist(Y,col=\"steelblue\")\n# lines(density(seatbelt$PetrolPrice),lwd =2, col = 'black')\n\nY <- seatbelt$PetrolPrice\nggplot(data = data.frame(Y = Y), aes(x = Y)) +\n  geom_histogram(color = 'black', fill = 'steelblue', bins = 30) +\n  geom_density(color = 'black', linewidth = 1) +\n  labs(title = 'Histogram of Petrol Price',\n       x = 'Petrol Price',\n       y = 'Frequency') +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#Create a Scatterplot (basics notes)\n# x <-seatbelt$front\n#y <-seatbelt$rear\n#par(las=1, mar=c(4, 4, 5, 4))\n#plot.new()\n#plot.window(xlim=c(400,1400), ylim=c(200, 700))\n#points(x, y, pch=5, cex=0.5)\n#par(col=\"black\", fg=\"black\", col.axis=\"black\")\n#axis(1, at=seq(400, 1400, 300))\n#axis(2, at=seq(200,700,100))\n##plotting a box on just 2 axes\n#box(bty=\"L\")\n#mtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\n#mtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\n#mtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\n#par(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\n#Scatterplot ggplot2\nx <-seatbelt$front\ny <-seatbelt$rear\nggplot(data = data.frame(x = x, y = y), aes(x = x, y = y)) +\n  geom_point(shape = 24, size = 3, fill = \"mediumpurple3\") +\n  xlim(400, 1400) +\n  ylim(200, 700) +\n  labs(title = \"Comparing Seatbelt Related Incidences\",\n       x = \"Front Related Incidences\",\n       y = \"Rear Related Incidences\") +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#HorizontalBarChart\nseatbelt$decade <- 10 * (seatbelt$Year %/% 10)\nfatalitiesbydecade <- table(seatbelt$decade)\nggplot(data = data.frame(decade = as.factor(names(fatalitiesbydecade)),\n                         deaths = as.numeric(fatalitiesbydecade)), \n       aes(x = decade, y = deaths, fill = decade)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Deaths by Decade\",\n       x = \"Decade\",\n       y = \"Number of Deaths\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"darkolivegreen4\", \"darkolivegreen2\", \"darkolivegreen4\")) +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#VerticalBarChart\n\ndeaths_by_year <- tapply(seatbelt$DriversKilled, seatbelt$Year, sum)\ndeaths_by_year_df <- data.frame(Year = as.numeric(names(deaths_by_year)),\n                                TotalDeaths = as.numeric(deaths_by_year))\n\nggplot(data = deaths_by_year_df, aes(x = factor(Year), y = TotalDeaths, fill = factor(Year))) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Total Deaths by Year\",\n       x = \"Year\",\n       y = \"Total Deaths\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"darkolivegreen4\", \"darkolivegreen4\", \"darkolivegreen4\", \"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\",\"darkolivegreen4\")) +\n  ylim(0, max(deaths_by_year) + 20)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-4.png){width=672}\n:::\n\n```{.r .cell-code}\n#BoxPlot boxplot(seatbelt$DriversKilled,\n# main = \"Boxplot of Drivers Killed\",\n# ylab = \"Deaths\",\n#col = \"darkorange3\",\n# border = \"black\")\n\nggplot(data = data.frame(DriversKilled = seatbelt$DriversKilled), \n       aes(y = DriversKilled)) +\n  geom_boxplot(color = \"black\", fill = \"darkorange3\") +\n  labs(title = \"Boxplot of Drivers Killed\",\n       ylab = \"Deaths\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-5.png){width=672}\n:::\n\n```{.r .cell-code}\n#PieChart - mtcars \n#note to self - take note of which datsets are appropriate for different forms of graphs in the future\n\ndata(mtcars)\n\n# Create a pie chart showing the distribution of cylinder counts\ndata(mtcars)\nView(mtcars)\ncylinder_counts <- table(mtcars$cyl)\n\n#Data Frame\npie_data <- data.frame(\n  cylinder = factor(names(cylinder_counts), levels = names(cylinder_counts)),\n  count = as.numeric(cylinder_counts)\n)\n\n# Calculate percentages for the labels\npie_data$percent <- pie_data$count / sum(pie_data$count) * 100\npie_data$label <- paste0(pie_data$cylinder, \"\\n\", round(pie_data$percent, 1), \"%\")\n\n#actual plot\nggplot(data = pie_data, aes(x = \"\", y = percent, fill = cylinder)) +\n  geom_bar(width = 1, stat = \"identity\") +\n  coord_polar(\"y\") +\n  theme_void() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14),\n    legend.position = \"none\"\n  ) +\n  ggtitle(\"How Many Cylinders?\") +\n  geom_text(aes(label = label), position = position_stack(vjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-6.png){width=672}\n:::\n:::\n\n\n**Exporting Charts**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(Seatbelts)\nseatbelt <- data.frame (Year=floor(time(Seatbelts)) ,\nMonth=factor(cycle(Seatbelts) ,\nlabels=month.abb) , Seatbelts)\nx <-seatbelt$front\ny <-seatbelt$rear\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\n#Examples\n#pdf(“rplot.pdf”): pdf file\n#png(“rplot.png”): png file\n#jpeg(“rplot.jpg”): jpeg file\n#postscript(“rplot.ps”): postscript file\n#bmp(“rplot.bmp”): bmp file\n#win.metafile(“rplot.wmf”): windows metafile\n\n#png\npng(\"scatterplot.png\")\n\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n\n```{.r .cell-code}\n#jpg\npng(\"scatterplot.jpg\")\n\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n\n```{.r .cell-code}\n#svg\npng(\"scatterplot.svg\")\n\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n\n```{.r .cell-code}\n#tiff\npng(\"scatterplot.tiff\")\n\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n\n```{.r .cell-code}\n#bmg\npng(\"scatterplot.bmg\")\n\npar(las=1, mar=c(4, 4, 5, 4))\nplot.new()\nplot.window(xlim=c(400,1400), ylim=c(200, 700))\npoints(x, y, pch=5, cex=0.5)\npar(col=\"black\", fg=\"black\", col.axis=\"black\")\naxis(1, at=seq(400, 1400, 300))\naxis(2, at=seq(200,700,100))\n#plotting a box on just 2 axes\nbox(bty=\"L\")\nmtext(\"Front Related Incidences\", side=1, line=3, cex=0.8)\n#las 0 means sideways label\nmtext(\"Rear Related Incidences\", side=2, line=3, las=0, cex=0.8)\nmtext(\"Comparing Seatbelt Related Incidences\", side=3, line=3,cex=1)\npar(mar=c(3, 3, 2, 3), col=\"black\", fg=\"black\", col.axis=\"black\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n\n```{.r .cell-code}\n#notes - PNG has the highest quality, whereas jpg and tiff have lower qualities. We cannot access the svg and bmg as presented with full graphics.\n```\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}